
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gemini AI Chatbot</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #f7f7f7;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
  }
  .chat-container {
    width: 400px;
    max-width: 90%;
    background: #fff;
    border-radius: 10px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    display: flex;
    flex-direction: column;
    overflow: hidden;
  }
  .chat-box {
    flex: 1;
    padding: 15px;
    overflow-y: auto;
    border-bottom: 1px solid #ddd;
  }
  .message {
    margin: 8px 0;
    padding: 10px;
    border-radius: 8px;
    max-width: 80%;
    word-wrap: break-word;
  }
  .user {
    background: #007BFF;
    color: white;
    align-self: flex-end;
  }
  .bot {
    background: #f1f1f1;
    color: black;
    align-self: flex-start;
  }
  .input-area {
    display: flex;
  }
  .input-area input {
    flex: 1;
    padding: 10px;
    border: none;
    outline: none;
  }
  .input-area button {
    background: #007BFF;
    color: white;
    border: none;
    padding: 0 20px;
    cursor: pointer;
  }
</style>
</head>
<body>
<div class="chat-container">
  <div class="chat-box" id="chatBox"></div>
  <div class="input-area">
    <input type="text" id="userInput" placeholder="Type a message..." />
    <button onclick="sendMessage()">Send</button>
  </div>
</div>

<script>
const chatBox = document.getElementById('chatBox');

async function sendMessage() {
  const input = document.getElementById('userInput');
  const message = input.value.trim();
  if (!message) return;

  addMessage(message, 'user');
  input.value = '';

  try {
    const response = await fetch('https://api.openai.com/v1/responses', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'Authorization': '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' // <-- Replace with your key locally
      },
      body: JSON.stringify({
        model: "gemini-2.0",
        input: message
      })
    });

    const data = await response.json();
    const botMessage = data.output?.[0]?.content?.[0]?.text || "Sorry, I couldn't understand that.";
    addMessage(botMessage, 'bot');
  } catch (error) {
    addMessage("Error connecting to AI: " + error.message, 'bot');
  }
}

function addMessage(text, sender) {
  const msgDiv = document.createElement('div');
  msgDiv.className = `message ${sender}`;
  msgDiv.textContent = text;
  chatBox.appendChild(msgDiv);
  chatBox.scrollTop = chatBox.scrollHeight;
}
</script>
</body>
</html>